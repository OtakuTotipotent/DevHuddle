{% load static%}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>DevHuddle | {% block title %}Connect{% endblock %}</title>

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />
</head>

<body class="bg-gray-900 text-gray-100 font-sans antialiased">

    <nav class="p-4 border-b border-gray-800 flex justify-between items-center">
        <a href="/" class="text-2xl font-bold text-blue-500">DevHuddle_</a>

        <div class="flex gap-x-4">
            <a href="/" class="text-gray-300 hover:text-blue-500">Home</a>
            <a href="{% url 'about' %}" class="text-gray-300 hover:text-blue-500">About</a>
        </div>

        <div>

            {% if user.is_authenticated %}

            <div class="flex items-center gap-4">

                {% if user.avatar %}
                <img src="{{ user.avatar.url }}" alt="ðŸ‘¤"
                    class="w-10 h-10 rounded-full object-cover border-2 border-blue-500">
                {% else %}
                <div class="w-10 h-10 rounded-full bg-blue-600 flex items-center justify-center font-bold text-white">
                    {{ user.username|slice:":1"|upper }}
                </div>
                {% endif %}

                <span class="font-mono text-gray-300">@{{ user.username }}</span>

                <a href="{% url 'profile_edit' %}" class="text-xs text-gray-500 hover:text-white">Edit</a>

                <form action="{% url 'logout' %}" method="post">
                    {% csrf_token %}
                    <button type="submit"
                        class="bg-red-600 px-2 py-1 rounded hover:bg-red-700 text-white text-sm font-bold transition cursor-pointer">
                        Logout
                    </button>
                </form>

            </div>

            {% else %}

            <div class="flex items-center gap-4">
                <a href="{% url 'login' %}" class="text-gray-300 hover:text-white transition">Login</a>
                <a href="{% url 'signup' %}"
                    class="bg-blue-600 px-4 py-2 rounded text-white font-bold hover:bg-blue-700 transition">
                    Join Now
                </a>
            </div>

            {% endif %}

        </div>
    </nav>

    <main class="container mx-auto p-4 min-h-screen">
        {% block content %}
        {% endblock content %}
    </main>

    <footer class="p-4 text-center text-gray-500 text-sm border-t border-gray-800 mt-10">
        &copy; 2025 DevHuddle Inc. Built with <span class="text-sky-500">Python</span>/<span
            class="text-yellow-500">Django</span> &
        Caffeine by <a href="http://github.com/OtakuTotipotent" target="_blank" rel="noopener noreferrer"
            class="text-gray-400 hover:text-blue-600">&nbsp;OtakuTotipotent</a>.
    </footer>

    {% block scripts %}
    {% endblock scripts %}

</body>

</html>