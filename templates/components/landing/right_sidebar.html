<!-- RIGHT: TRENDING ACCOUNTS + AI-CHAT-SECTION -->
<div
    class="hidden lg:block col-span-1 bg-gray-800/60 border border-gray-700 h-fit p-4 shadow-sm rounded-xl overflow-hidden">
    <h3 class="flex gap-4 items-center mb-2 border-b pb-2 border-gray-700">
        <span class="font-semibold text-blue-500">
            Popular Developers
        </span>
        <span class="text-[10px] bg-gray-900/50 text-green-400 py-1 px-2 rounded-full">
            Recommended
        </span>
    </h3>

    <div class="space-y-4">
        {% for suggestion in who_to_follow %}
        <div class="flex gap-y-2 items-center justify-between">
            <div class="flex items-center justify-center gap-2 flex-wrap">
                {% if suggestion.avatar %}
                <img src="{{ suggestion.avatar.url }}" class="w-7 h-7 rounded-full object-cover">
                {% else %}
                <div
                    class="w-7 h-7 rounded-full bg-gray-900 flex items-center justify-center font-bold text-blue-500 text-xs">
                    {{ suggestion.username|slice:":1"|upper }}
                </div>
                {% endif %}

                <div class="overflow-hidden">
                    <a href="{% url 'user_profile' suggestion.username %}"
                        class="block font-semibold text-xs text-gray-400 hover:text-blue-500 truncate w-24">
                        @{{ suggestion.username }}
                    </a>
                    <p class="text-[10px] text-blue-500 truncate w-24">
                        {{ suggestion.tech_stack|default:"Developer" }}</p>
                </div>

                <!-- Rating: on basis of performance -->
                <div class="text-xs text-yellow-400">
                    ⭐5
                </div>

                <!-- Rating: on basics of public boosts -->
                <div class="text-xs text-orange-500">
                    ⚡3
                </div>
            </div>

            <a href="{% url 'user_profile' suggestion.username %}"
                class="text-xs border border-gray-700 text-blue-500 hover:bg-gray-900 hover:text-gray-400 px-2 py-1 rounded-full transition">
                View
            </a>
        </div>
        {% empty %}
        <p class="text-xs text-blue-500 italic">No suggestions right now.</p>
        {% endfor %}
    </div>

    <!-- TODO: the show more is buggy; it does not show more users on next page -->
    <div class="flex items-center justify-between gap-2 mt-4 pt-2 border-t border-gray-700 flex-wrap">
        <a href="{% url 'search' %}" class="text-xs text-blue-500 hover:underline">Show more</a>

        <div class="flex items-center gap-4 text-xs flex-wrap">
            <span class="text-yellow-400">Rating ⭐</span>
            <span class="text-orange-500">Boosting ⚡</span>
        </div>
    </div>
</div>